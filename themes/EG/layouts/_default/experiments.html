{{ define "main" }}

<!-- Cube Experiment-->
<style>
    .cube-container {
        perspective: 1000px;
    }

    #cube {
        transform-style: preserve-3d;
    }

    #cube .front {
        transform: rotateX(-15deg) rotateY(-15deg) translateZ(125px);
    }

    #cube .back {
        transform: rotateX(165deg) rotateY(15deg) translateZ(125px);
    }

    #cube .right {
        transform: rotateX(-15deg) rotateY(75deg) translateZ(125px);
    }

    #cube .left {
        transform: rotateX(-15deg) rotateY(-105deg) translateZ(125px);
    }

    #cube .top {
        transform: rotateX(75deg) rotateY(0) rotateZ(15deg) translateZ(125px);
    }

    #cube .bottom {
        transform: rotateX(-105deg) rotateY(0) rotateZ(-15deg) translateZ(125px);
    }

    #cube {
        transform: translateZ(-125px);
    }

    #cube.show-front {
        transform: translateZ(-125px) rotateY(0deg);
    }

    #cube.show-back {
        transform: translateZ(-125px) rotateX(-180deg);
    }

    #cube.show-right {
        transform: translateZ(-125px) rotateY(-90deg);
    }

    #cube.show-left {
        transform: translateZ(-125px) rotateY(90deg);
    }

    #cube.show-top {
        transform: translateZ(-125px) rotateX(-90deg);
    }

    #cube.show-bottom {
        transform: translateZ(-125px) rotateX(90deg);
    }
</style>

<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div>
        <h1 class="mt-4 mb-1 text-4xl font-bold">CSS Perspective Video Transforms</h1>
        <p class="mt-4 text-sm antialiased text-gray-600 font-light my-4">Try the controls...</p>
        <p id="show-buttons">
            <button id="show-front"
                class="w-36 text-white bg-black hover:bg-gray-800 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none">Front
                Face</button>
            <button id="show-back"
                class="w-36 text-white bg-cyan-600 hover:bg-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none">Back
                Face</button>
            <button id="show-right"
                class="w-36 text-white bg-red-600 hover:bg-red-800 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none">Right
                Face</button>
            <button id="show-left"
                class="w-36 text-white bg-yellow-600 hover:bg-yellow-800 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none">Left
                Face</button>
            <button id="show-top"
                class="w-36 text-white bg-green-600 hover:bg-green-800 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none">Top
                Face</button>
            <button id="show-bottom"
                class="w-36 text-white bg-indigo-600 hover:bg-indigo-800 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 focus:outline-none">Bottom
                Face</button>
        </p>
    </div>
    <div class="antialiased leading-normal">
        <p class="my-4">
            {{ $poster := resources.Get "/images/experiments/poster.jpg" | fingerprint }}
            {{ $webm := resources.Get "/images/experiments/webmversion.webm" | fingerprint }}
            {{ $clclogo := resources.Get "/images/experiments/CLC_Logo_Xsmall_WHITE.svg" | fingerprint }}

        <section class="cube-container my-16 mx-auto relative h-[250px] w-[250px]">
            <div id="cube"
                class="absolute w-full h-full transition-transform duration-1000 ease-in-out translate-z-[-125px]">
                <figure class="front absolute block h-[250px] w-[250px] m-0 transform-gpu">
                    <div class="w-full h-auto opacity-100 relative p-0 m-0 overflow-hidden">
                        <div class="absolute left-0 top-0 w-full h-full z-10 bg-black opacity-50 pointer-events-none">
                        </div>
                        <video class="inline-block z-0 h-[250px] w-[250px] object-cover object-center" id="front"
                            poster="{{ $poster.RelPermalink }}" autoplay muted loop playsinline>
                            <source src="{{ $webm.RelPermalink }}" type="video/webm">
                        </video>
                        <div class="absolute left-0 top-0 text-white z-20 w-full pointer-events-none">
                            <img class="block w-32 m-8" src="{{ $clclogo.RelPermalink }}" />
                            <p class="block text-center">Front</p>
                        </div>
                    </div>
                </figure>
                <figure class="back absolute block h-[250px] w-[250px] m-0 transform-gpu">
                    <div class="w-full h-auto opacity-100 relative p-0 m-0 overflow-hidden">
                        <div
                            class="absolute left-0 top-0 w-full h-full z-10 bg-cyan-600 opacity-50 pointer-events-none">
                        </div>
                        <video class="inline-block z-0 h-[250px] w-[250px] object-cover object-center" id="back"
                            poster="{{ $poster.RelPermalink }}" autoplay muted loop playsinline>
                            <source src="{{ $webm.RelPermalink }}" type="video/webm">
                        </video>
                        <div class="absolute left-0 top-0 text-white z-20 w-full pointer-events-none">
                            <img class="block w-32 m-8" src="{{ $clclogo.RelPermalink }}" />
                            <p class="block text-center">back</p>
                        </div>
                    </div>
                </figure>
                <figure class="right absolute block h-[250px] w-[250px] m-0 transform-gpu">
                    <div class="w-full h-auto opacity-100 relative p-0 m-0 overflow-hidden">
                        <div class="absolute left-0 top-0 w-full h-full z-10 bg-red-500 opacity-50 pointer-events-none">
                        </div>
                        <video class="inline-block z-0 h-[250px] w-[250px] object-cover object-center" id="right"
                            poster="{{ $poster.RelPermalink }}" autoplay muted loop playsinline>
                            <source src="{{ $webm.RelPermalink }}" type="video/webm">
                        </video>
                        <div class="absolute left-0 top-0 text-white z-20 w-full pointer-events-none">
                            <img class="block w-32 m-8" src="{{ $clclogo.RelPermalink }}" />
                            <p class="block text-center">Right</p>
                        </div>
                    </div>
                </figure>
                <figure class="left absolute block h-[250px] w-[250px] m-0 transform-gpu">
                    <div class="w-full h-auto opacity-100 relative p-0 m-0 overflow-hidden">
                        <div
                            class="absolute left-0 top-0 w-full h-full z-10 bg-yellow-500 opacity-50 pointer-events-none">
                        </div>
                        <video class="inline-block z-0 h-[250px] w-[250px] object-cover object-center" id="left"
                            poster="{{ $poster.RelPermalink }}" autoplay muted loop playsinline>
                            <source src="{{ $webm.RelPermalink }}" type="video/webm">
                        </video>
                        <div class="absolute left-0 top-0 text-white z-20 w-full pointer-events-none">
                            <img class="block w-32 m-8" src="{{ $clclogo.RelPermalink }}" />
                            <p class="block text-center">Left</p>
                        </div>
                    </div>
                </figure>
                <figure class="top absolute block h-[250px] w-[250px] m-0 transform-gpu">
                    <div class="w-full h-auto opacity-100 relative p-0 m-0 overflow-hidden">
                        <div
                            class="absolute left-0 top-0 w-full h-full z-10 bg-green-500 opacity-50 pointer-events-none">
                        </div>
                        <video class="inline-block z-0 h-[250px] w-[250px] object-cover object-center" id="top"
                            poster="{{ $poster.RelPermalink }}" autoplay muted loop playsinline>
                            <source src="{{ $webm.RelPermalink }}" type="video/webm">
                        </video>
                        <div class="absolute left-0 top-0 text-white z-20 w-full pointer-events-none">
                            <img class="block w-32 m-8" src="{{ $clclogo.RelPermalink }}" />
                            <p class="block text-center">Top</p>
                        </div>
                    </div>
                </figure>
                <figure class="bottom absolute block h-[250px] w-[250px] m-0 transform-gpu">
                    <div class="w-full h-auto opacity-100 relative p-0 m-0 overflow-hidden">
                        <div
                            class="absolute left-0 top-0 w-full h-full z-10 bg-indigo-500 opacity-50 pointer-events-none">
                        </div>
                        <video class="inline-block z-0 h-[250px] w-[250px] object-cover object-center" id="bottom"
                            poster="{{ $poster.RelPermalink }}" autoplay muted loop playsinline>
                            <source src="{{ $webm.RelPermalink }}" type="video/webm">
                        </video>
                        <div class="absolute left-0 top-0 text-white z-20 w-full pointer-events-none">
                            <img class="block w-32 m-8" src="{{ $clclogo.RelPermalink }}" />
                            <p class="block text-center">Bottom</p>
                        </div>
                    </div>
                </figure>
            </div>
        </section>
        </p>
    </div>
</div>

<script type="text/javascript">
    Element.prototype.hasClassName = function (a) {
        return new RegExp("(?:^|\\s+)" + a + "(?:\\s+|$)").test(this.className);
    };

    Element.prototype.addClassName = function (a) {
        if (!this.hasClassName(a)) {
            this.className = [this.className, a].join(" ");
        }
    };

    Element.prototype.removeClassName = function (b) {
        if (this.hasClassName(b)) {
            var a = this.className;
            this.className = a.replace(new RegExp("(?:^|\\s+)" + b + "(?:\\s+|$)", "g"), " ");
        }
    };

    Element.prototype.toggleClassName = function (a) {
        this[this.hasClassName(a) ? "removeClassName" : "addClassName"](a);
    };



    var init = function () {
        var box = document.querySelector('.cube-container').children[0],
            showPanelButtons = document.querySelectorAll('#show-buttons button'),
            panelClassName = 'show-front',

            onButtonClick = function (event) {
                box.removeClassName(panelClassName);
                panelClassName = event.target.id;
                box.addClassName(panelClassName);
            };

        for (var i = 0, len = showPanelButtons.length; i < len; i++) {
            showPanelButtons[i].addEventListener('click', onButtonClick, false);
        }
    };
    window.addEventListener('DOMContentLoaded', init, false);

</script>
<!-- End Cube Experiment-->

<!-- Parallax Experiment -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div>
        <h1 class="mt-4 mb-1 text-4xl font-bold">CSS Scroll Timeline Polyfill Parallax Criss Cross</h1>
        <p class="mt-4 text-sm antialiased text-gray-600 font-light my-4">Scroll down...</p>
    </div>
</div>
<script src="https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js"></script>

<div class="collage">
    <div class="photo-block">
        <div class="photo-grid">
            <div class="photo"><img src="https://picsum.photos/600/800?random=1" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=2" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=3" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=4" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=5" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=6" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=7" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=8" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=9" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=10" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=11" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=12" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=13" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=14" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=15" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=16" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=17" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=18" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=19" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=20" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=21" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=22" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=23" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=24" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=25" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=26" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=27" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=28" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=29" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=30" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=31" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=32" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=33" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=34" alt=""></div>
            <div class="photo"><img src="https://picsum.photos/600/800?random=35" alt=""></div>
        </div>
    </div>
</div>

<style>

.photo-block {
    position: sticky;
    top: calc(50% - 30vh);
    height: 60vh;
	width: 100%;
	display: grid;
    overflow: hidden;
}

.photo-grid {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(38deg);
    display: grid;  
    grid-template-columns: repeat(7, 1fr);
}

.photo {
  aspect-ratio: 3 / 4;
  width: 20vmax;
}

.collage {
  height: 200vh;
  view-timeline: --collage;
}

.photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.photo:nth-of-type(7n + 1):nth-of-type(even),
.photo:nth-of-type(7n + 3):nth-of-type(even),
.photo:nth-of-type(7n + 5):nth-of-type(even),
.photo:nth-of-type(7n + 7):nth-of-type(even) {
  --vertical: -100%;
  --horizontal: 100%;
}
.photo:nth-of-type(7n + 1):nth-of-type(odd),
.photo:nth-of-type(7n + 3):nth-of-type(odd),
.photo:nth-of-type(7n + 5):nth-of-type(odd),
.photo:nth-of-type(7n + 7):nth-of-type(odd) {
  --vertical: -100%;
  --horizontal: -100%;
}

.photo:nth-of-type(7n + 2):nth-of-type(even),
.photo:nth-of-type(7n + 4):nth-of-type(even),
.photo:nth-of-type(7n + 6):nth-of-type(even) {
  --vertical: 100%;
  --horizontal: -100%;
}

.photo:nth-of-type(7n + 2):nth-of-type(odd),
.photo:nth-of-type(7n + 4):nth-of-type(odd),
.photo:nth-of-type(7n + 6):nth-of-type(odd) {
  --vertical: 100%;
  --horizontal: 100%;
}

.photo {
  animation-name: travel;
  animation-fill-mode: both;
  animation-timing-function: linear;
  animation-timeline: --collage;
  animation-delay: enter 100%;
  animation-end-delay: exit 0%;
}

@keyframes travel {
  0% {
    translate: 0 0;
  }
  50% {
    translate: 0 var(--vertical);
  }
  100% {
    translate: var(--horizontal) var(--vertical);
  }
}
</style>
<!-- End Parallax Experiment -->

<!-- Apple Experiment -->

{{ $apples := resources.Get "/images/experiments/apples.jpg" | fingerprint }}
{{ $applesmask := resources.Get "/images/experiments/apples-mask.png" | fingerprint }}

<style>
    .apples {
  width: 60vw;
  float: left;
  margin: 1em; 
  shape-outside: url('{{ $applesmask.RelPermalink }}'); 
  shape-margin: 0.8em;
  shape-image-threshold: 0.5;
}

</style>


<div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-16">
    <div>
        <h1 class="mt-4 mb-1 text-4xl font-bold">CSS Shape Mask</h1>
        <p class="mt-4 text-sm antialiased text-gray-600 font-light my-4">Text flow around image...</p>
    </div>
</div>


<section class="prose dark:text-gray-300 max-w-none">
    
<p>The apple tree (Malus domestica) is a deciduous tree in the rose family best known for its sweet, pomaceous fruit,
    the apple. It is cultivated worldwide as a fruit tree, and is the most widely grown species in the genus Malus. The
    tree originated in Central Asia, where its wild ancestor, Malus sieversii, is still found today. Apples have been
    grown for thousands of years in Asia and Europe, and were brought to North America by European colonists. Apples
    have religious and mythological significance in many cultures, including Norse, Greek and European Christian
    traditions.</p>

<img src="{{ $apples.RelPermalink }}" class="apples dark:mix-blend-screen dark:invert dark:saturate-0 dark:hue-rotate-180">

<p>Apple trees are large if grown from seed, but small if grafted onto roots (rootstock). There are more than 7,500
    known cultivars of apples, resulting in a range of desired characteristics. Different cultivars are bred for various
    tastes and uses, including cooking, eating raw and cider production. Apples are generally propagated by grafting,
    although wild apples grow readily from seed. Trees and fruit are prone to a number of fungal, bacterial and pest
    problems, which can be controlled by a number of organic and non-organic means. In 2010, the fruit's genome was
    sequenced as part of research on disease control and selective breeding in apple production.</p>

<p>Worldwide production of apples in 2013 was 80.8 million tonnes, with China accounting for 49% of the total.</p>

<p>The apple is a deciduous tree, generally standing 1.8 to 4.6 m (6 to 15 ft) tall in cultivation and up to 39 ft (12
    m) in the wild. When cultivated, the size, shape and branch density are determined by rootstock selection and
    trimming method. The leaves are alternately arranged dark green-colored simple ovals with serrated margins and
    slightly downy undersides.</p>

</section>





<div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-16">
    <div>
        <h1 class="mt-4 mb-1 text-4xl font-bold">CSS Card Stack Challenges</h1>
        
            <form class="mt-4 text-sm antialiased text-gray-600 dark:text-white font-light my-4">
                <fieldset class="my-4">
                    <legend>Transform Origin</legend>
                    <input type="radio" id="mode-center" name="stack-type" checked>
                    <label for="mode-center">center</label>
                    <input type="radio" id="mode-bottom-center" name="stack-type">
                    <label for="mode-bottom-center">bottom center</label>
                    <input type="radio" id="mode-bottom-left" name="stack-type">
                    <label for="mode-bottom-left">bottom left</label>
                    <input type="radio" id="mode-top-left" name="stack-type">
                    <label for="mode-top-left">top left</label>
                    <input type="radio" id="mode-top-right" name="stack-type">
                    <label for="mode-top-right">top right</label>
                    <input type="radio" id="mode-bottom-right" name="stack-type">
                    <label for="mode-bottom-right">bottom right</label>
                </fieldset>
                <fieldset>
                    <legend>Gap</legend>
                    <input id="slider" type="range" min="0" max="20" value="5">
                </fieldset>
            </form>
        
    </div>
</div>

<section id="cardchallenges" class="h-[500px]">

<style>

#cardchallenges {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    place-items: center;
    padding: 0;
    gap: 50px;
    overflow: hidden;
  }
  
  .card {
    aspect-ratio: 16/9;
    background: black;
    border-radius: 10px;
    box-shadow: 5px 2px 2px rgba(20, 20, 20, 0.287);
  }
  
  .card:nth-of-type(5) { background: #bae6fd }
  .card:nth-of-type(4) { background: #7dd3fc }
  .card:nth-of-type(3) { background: #38bdf8 }
  .card:nth-of-type(2) { background: #0ea5e9 }
  .card:nth-of-type(1) { background: #0284c7 }

  .card-stack {
  justify-self: start;
  display: grid;
  grid: [gui] 1fr / [challenges] min(50vmin, 40ch);
}

.card {
  --better-bottom-left: -25% 125%;
  --better-bottom-center: center 200%;
  --better-bottom-right: 125% 125%;
  --better-top-left: -25% -25%;
  --better-top-center: center -200%;
  --better-top-right: 125% -25%;

  grid-area: gui / challenges;
  transform: rotate(var(--r, 0deg)) translateY(var(--t, 0px));
  transition: 
    transform-origin .5s ease-in-out,
    transform .25s ease-in-out;
}

.card:hover {
  /* translate: 0 -50px; */
  --t: -50px;
}

.card:nth-of-type(5) { --r: 0deg }
.card:nth-of-type(4) { --r: calc(var(--scalar, 5) * 1deg) }
.card:nth-of-type(3) { --r: calc(var(--scalar, 5) * 1deg * -1) }
.card:nth-of-type(2) { --r: calc(var(--scalar, 5) * 2 * 1deg) }
.card:nth-of-type(1) { --r: calc(var(--scalar, 5) * 2 * 1deg * -1) }

/*  radio states  */
html:has(#mode-bottom-left:checked) .card-stack > .card {
  transform-origin: bottom left;
}

html:has(#mode-top-left:checked) .card-stack > .card {
  transform-origin: top left;
}

html:has(#mode-top-right:checked) .card-stack > .card {
  transform-origin: top right;
}

html:has(#mode-bottom-right:checked) .card-stack > .card {
  transform-origin: bottom right;
}

html:has(#mode-bottom-center:checked) .card-stack > .card {
  transform-origin: bottom center;
}

html:has(#mode-center:checked) .card-stack > .card {
  transform-origin: center;
}

</style>


    <div>

    </div>
    
    <div class="card-stack">
        <div class="card cursor-pointer"></div>
        <div class="card cursor-pointer"></div>
        <div class="card cursor-pointer"></div>
        <div class="card cursor-pointer"></div>
        <div class="card cursor-pointer"></div>
    </div>

<script>
    let stack = document.querySelector('.card-stack')

        window.slider.oninput = e => {
            stack.style.setProperty('--scalar', e.target.value)
        }
</script>

</section>




{{- partial "footer.html" . -}}
{{ end }}